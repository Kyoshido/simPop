# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Geometric mean by factor
#' 
#' This function calculates the geometric mean of the weight for each class. `geometric_mean` returns a `numeric` of 
#' the same length as `w` which stores the averaged weight for each observation. `geometric_mean_reference` returns
#' the same value by reference, i.e. the input value `w` gets overwritten by the updated weights. See examples.
#' 
#' @md
#' @name geometric_mean
#' @param w An numeric vector. All entries should be positive.
#' @param classes A factor variable. Must have the same length as `w`.
#' @examples
#' 
#' ## create random data
#' nobs <- 10
#' classLabels <- letters[1:3]
#' dat = data.frame(
#'   weight = exp(rnorm(nobs)),
#'   household = factor(sample(classLabels, nobs, replace = TRUE))
#' )
#' dat
#' 
#' ## calculate weights with geometric_mean
#' new_weight <- geometric_mean(dat$weight, dat$household)
#' cbind(dat, new_weight)
#' 
#' ## calculate weights "by reference"
#' geometric_mean_reference(dat$weight, dat$household)
#' dat
#' 
#' @rdname geometric_mean
#' @export
geometric_mean_reference <- function(w, classes) {
    invisible(.Call('_simPop_geometric_mean_reference', PACKAGE = 'simPop', w, classes))
}

#' @rdname geometric_mean
#' @export
geometric_mean <- function(w, classes) {
    .Call('_simPop_geometric_mean', PACKAGE = 'simPop', w, classes)
}

sample_int_crank <- function(n, size, prob) {
    .Call('_simPop_sample_int_crank', PACKAGE = 'simPop', n, size, prob)
}

updateMatC <- function(M, add_row, add_col, remove_row, remove_col, hhsize, hhid) {
    .Call('_simPop_updateMatC', PACKAGE = 'simPop', M, add_row, add_col, remove_row, remove_col, hhsize, hhid)
}

updateVecC <- function(init_weight, add_index, remove_index, hhsize, hhid, sizefactor) {
    .Call('_simPop_updateVecC', PACKAGE = 'simPop', init_weight, add_index, remove_index, hhsize, hhid, sizefactor)
}

sumVec <- function(init_weight, sizefactor) {
    .Call('_simPop_sumVec', PACKAGE = 'simPop', init_weight, sizefactor)
}

select_equal <- function(x, val1, val2) {
    .Call('_simPop_select_equal', PACKAGE = 'simPop', x, val1, val2)
}

tableC <- function(x) {
    .Call('_simPop_tableC', PACKAGE = 'simPop', x)
}

csample_num <- function(x, size, replace, prob = as.numeric( c())) {
    .Call('_simPop_csample_num', PACKAGE = 'simPop', x, size, replace, prob)
}

sample_group <- function(x, group_x, group, group_num, replace) {
    .Call('_simPop_sample_group', PACKAGE = 'simPop', x, group_x, group, group_num, replace)
}

